% !TEX encoding = UTF-8
% !TEX TS-program = pdflatex
% !TEX root = ../tesi.tex

%**************************************************************
\chapter{Strumenti e tecnologie}
\label{cap:strumenti-e-tecnologie}
%**************************************************************

\intro{Analisi e descrizione delle tecnologie utilizzate}\\

%**************************************************************
\section{Strumenti utilizzati}

\subsection{Ambiente di sviluppo}
Durante le 8 settimane di stage, mi è stata assegnata una macchina con sistema operativo Windows 10 64 bit per svolgere il tirocinio universitario. Mi è stato richiesto di utilizzare Virtual Box per poter creare l'ambiente di sviluppo e l'ambiente di test. Virtual Box è un software gratuito e open source per l'esecuzione di macchine virtuali per architettura x86 e 64bit che supporta Windows, GNU/Linux e macOS come sistemi operativi host, ed è in grado di eseguire Windows, GNU/Linux, OS/2 Warp, BSD come ad esempio OpenBSD, FreeBSD e infine Solaris e OpenSolaris come sistemi operativi guest.\newline{}
Nella macchina virtuale in seguito mi è stato consigliato di utilizzare PyCharm come strumento per lo sviluppo del prodotto. PyCharm è un IDE integrato multi-piattaforma per Python; è un software distribuito sotto i termini della Apache License nella sua versione "Community".
\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/develop/logo-virtualbox.png} 
        \caption{Logo Virtualbox} 
        \label{fig:virtualbox} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/develop/logo-pycharm.png} 
        \caption{Logo PyCharm} 
        \label{fig:pycharm} 
    \end{minipage}  
\end{figure}

\noindent
Nelle macchine virtuali, sono stati da me configurati due ambienti con due sistemi operativi diversi. L'ambiente di sviluppo è stato configurato con sistema operativo Debian 10.10 (Buster) mentre l'ambiente di test è stato configurato per simulare il più possibile l'ambiente in produzione, utilizzando quindi come sistema operativo CentOS 7.
\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/develop/logo-debian.png} 
        \caption{Logo Debian} 
        \label{fig:virtualbox} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/develop/logo-centos.png} 
        \caption{Logo CentOS} 
        \label{fig:pycharm} 
    \end{minipage}  
\end{figure}
\subsection{Strumenti di versionamento}

L’azienda, per tutti i suoi prodotti, adotta strumenti per il controllo di versione, nello specifico Git. Git è un software di controllo versione distribuito utilizzabile da interfaccia a riga di comando, creato da Linus Torvalds nel 2005. È stato scelto, rispetto ad altri strumenti di Version Control System (VCS), per il supporto di branching e merging e perché comprende strumenti specifici per visualizzare e navigare una cronologia di sviluppo non lineare. Infine, come servizio di hosting web-based, è stato utilizzato GitLab.

\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/versioning/logo-git.png} 
        \caption{Logo Git} 
        \label{fig:git} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/versioning/logo-gitlab.png} 
        \caption{Logo GitLab} 
        \label{fig:gitlab} 
    \end{minipage}  
\end{figure}

\subsection{Strumenti aziendali}

Per quanto riguarda la comunicazione con il tutor aziendale, sono stati utilizzati Microsoft Teams e Whatsapp. Entrambi gli strumenti sono stati utilizzati per comunicare con il tutor ed il personale aziendale durante tutto il tirocinio universitario.

\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/company/logo-teams.png} 
        \caption{Logo Microsoft Teams} 
        \label{fig:teams} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/tools/company/logo-whatsapp.png} 
        \caption{Logo WhatsApp} 
        \label{fig:whatsapp} 
    \end{minipage}  
\end{figure}

\subsection{Altri strumenti}

Per avere un sistema di caching atto ad evitare di analizzare più volte lo stesso url in un breve lasso di tempo, si è utilizzato \textit{Redis}. \textit{Redis} è lo store di strutture dati chiave-valore in memoria più usato, è rapido ed open source. I suoi principali casi d'uso sono il caching, la gestione di sessioni, servizi pub/sub e graduatorie. Dispone di licenza BSD ed è un acronimo e sta per REmote DIctionary Server.
Per creare più istanze del programma e per immagazzinare in una struttura di dati flessibile gli url da analizzare, è stato utilizzato \textit{Celery}. \textit{Celery} è un gestore di code asincrono open source basato sul passaggio di messaggi distribuiti. Le unità di esecuzione, chiamate tasks, sono eseguite in concorrenza in uno o più nodi worker utilizzando il multiprocessing, eventlet o gevent.
\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.6\linewidth]{chapter3-tech/tools/others/logo-redis.png} 
        \caption{Redis} 
        \label{fig:redis} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.3\linewidth]{chapter3-tech/tools/others/logo-celery.png} 
        \caption{Logo Celery} 
        \label{fig:celery} 
    \end{minipage}% 
\end{figure}

\noindent
\textit{RabbitMQ} è un message-oriented middleware (detto anche broker di messaggistica) che implementa il protocollo Advanced Message Queuing Protocol (AMQP). Esso è stato utilizzato per comunicare con \textit{Celery}. Il server \textit{RabbitMQ} è scritto in Erlang e si basa sul framework Open Telecom Platform (OTP) per la gestione del clustering e del failover. DA GLOSSARIO Un broker di messaggi è un programma intermedio che traduce un messaggio dal protocollo di messaggistica formale del mittente al protocollo di messaggistica formale del ricevitore. I broker di messaggi sono elementi di telecomunicazione o reti di computer in cui le applicazioni software comunicano scambiando messaggi definiti in modo formale. 
\begin{figure}[!h] 
    \centering 
    \includegraphics[width=0.4\columnwidth]{chapter3-tech/tools/others/logo-rabbitmq.png} 
    \caption{Logo RabbitMQ}
    \label{fig:rabbitmq} 
\end{figure}

\noindent
Per salvare lo stato dei siti interessanti per il modulo, si è deciso di immagazzinare il codice sorgente ed una istantanea del sito. Per il salvataggio si è utilizzato \textit{Amazon S3}. \textit{Amazon S3} (Simple Storage Service) è un servizio web di memorizzazione offerto da Amazon Web Services.\newline{} Per salvare e ricercare informazioni dettagliate sui siti interessanti per il modulo, viene utilizzato \textit{Elasticsearch}. \textit{Elasticsearch} è un server di ricerca basato su Lucene, con capacità Full Text e supporto ad architetture distribuite. Tutte le funzionalità sono nativamente esposte tramite interfaccia RESTful.
\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.5\linewidth]{chapter3-tech/tools/others/logo-amazons3.png} 
        \caption{Amazon S3} 
        \label{fig:amazons3} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.5\linewidth]{chapter3-tech/tools/others/logo-elasticsearch.png} 
        \caption{Logo Elasticsearch} 
        \label{fig:elasticsearch} 
    \end{minipage}% 
\end{figure} 

%**************************************************************
\section{Tecnologie utilizzate}

\subsection{Linguaggi}
Il principale linguaggio utilizzato è stato Python, in versione 3.7.3. Python è un linguaggio di programmazione ad alto livello, orientato agli oggetti, adatto, tra gli altri usi, a sviluppare applicazioni distribuite, scripting, computazione numerica e system testing. Sebbene Python venga in genere considerato un linguaggio interpretato, in realtà il codice sorgente non viene convertito direttamente in linguaggio macchina. Infatti passa prima da una fase di pre-compilazione in bytecode, che viene quasi sempre riutilizzato dopo la prima esecuzione del programma, evitando così di reinterpretare ogni volta il sorgente e migliorando le prestazioni. La scelta della versione è ricaduta su quella ritenuta più stabile e che non creasse conflitti con gli altri strumenti e tecnologie.\newline{}
Per la gestione e configurazione dei file di configurazione è stato utilizzato \textit{YAML}, un formato per la serializzazione di dati utilizzabile da esseri umani. Il nome definisce l'acronimo ricorsivo "YAML Ain't a Markup Language".
\begin{figure}[!h]
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/languages/logo-python.png} 
        \caption{Python} 
        \label{fig:python} 
    \end{minipage}% 
    \begin{minipage}{.5\textwidth} 
        \centering 
        \includegraphics[width=.4\linewidth]{chapter3-tech/languages/logo-yaml.png} 
        \caption{Logo YAML} 
        \label{fig:yaml} 
    \end{minipage}% 
\end{figure}
\subsection{Framework}
Selenium è un framework per la gestione automatizzata dei browser. È stato utilizzato per simulare il comportamento di un utente reale all'interno di un browser evitando così i controlli antibot. Selenium è multipiattaforma, funziona su Windows, Linux e macOS, ed è un software open source rilasciato con la licenza Apache 2.0.
\begin{figure}[!h] 
    \centering 
    \includegraphics[width=0.4\columnwidth]{chapter3-tech/frameworks/logo-selenium.png} 
    \caption{Logo Selenium}
    label{fig:selenium} 
\end{figure}

%**************************************************************